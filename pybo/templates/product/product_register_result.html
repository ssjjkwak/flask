{% extends "base.html" %}
{% block content %}
<style>
    th, td {
        padding: 15px;
        text-align: center;
        white-space: nowrap;
    }

    th {
        background-color: #f8f9fa;
        box-shadow: 0 3px 3px -1px rgba(0, 0, 0, 0.4);
    }

    th.sticky {
        position: sticky;
        top: 0;
        z-index: 20;
        background-color: #fff;
        box-shadow: 0 3px 3px -1px rgba(0, 0, 0, 0.4);
    }
</style>

<div>
    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 15px;">
        <h7 class="m-0 font-weight-bold text-primary mb-3">제조실적결과조회</h7>
    </div>

    <!-- 10 공정 -->
    <h4>Pre-Assembly (WHF10)</h4>
    <div class="mb-4" style="overflow-y: auto; height: 300px; width: 100%;" id="process10">
        <table class="table table-sm table-hover" style="border-collapse: collapse;" width="100%" cellspacing="0">
            <thead class="table-light">
            <tr>
                <th class="sticky" style="width: 10px; font-weight: normal"></th>
                <th class="sticky" style="width: 100px; font-weight: normal">LOT</th>
                <th class="sticky" style="width: 100px; font-weight: normal">barcode</th>
                <th class="sticky" style="width: 100px; background-color: #e0ffff;">품목코드</th>
                <th class="sticky" style="width: 100px; background-color: #e0ffff;">제조오더번호</th>
                <th class="sticky" style="width: 100px; font-weight: normal">err_code</th>
                <th class="sticky" style="width: 100px; font-weight: normal">err_info</th>
                <th class="sticky" style="width: 100px; font-weight: normal">print_time</th>
            </tr>
            </thead>
            <tbody>
            {% for row in whf10_data %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ row.LOT }}</td>
                <td>{{ row.barcode }}</td>
                <td style="background-color: #e0ffff;">{{ row.product }}</td>
                <td style="background-color: #e0ffff;">{{ row.PRODT_ORDER_NO }}</td>
                <td>{{ row.err_code }}</td>
                <td>{{ row.err_info }}</td>
                <td>{{ row.print_time }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- 30 공정 -->
    <h4>Out weight (WHF30)</h4>
    <div class="mb-4" style="overflow-y: auto; height: 300px; width: 100%;" id="process30">
        <table class="table table-sm table-hover" style="border-collapse: collapse;" width="100%" cellspacing="0">
            <thead class="table-light">
            <tr>
                <th class="sticky" style="width: 10px; font-weight: normal"></th>
                <th class="sticky" style="width: 100px; font-weight: normal">LOT</th>
                <th class="sticky" style="width: 100px; font-weight: normal">barcode</th>
                <th class="sticky" style="width: 100px; background-color: #e0ffff;">품목코드</th>
                <th class="sticky" style="width: 100px; background-color: #e0ffff;">제조오더번호</th>
                <th class="sticky" style="width: 100px; font-weight: normal">inweight_time</th>
                <th class="sticky" style="width: 100px; font-weight: normal">inweight_cycles</th>
                <th class="sticky" style="width: 100px; font-weight: normal">inweight_station</th>
                <th class="sticky" style="width: 100px; font-weight: normal">inweight_result</th>
                <th class="sticky" style="width: 100px; font-weight: normal">inweight_value</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_cycles</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_entry</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_exit</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_station</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_value</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_ptest</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_duration</th>
                <th class="sticky" style="width: 100px; font-weight: normal">leaktest_result</th>
                <th class="sticky" style="width: 100px; font-weight: normal">outweight_time</th>
                <th class="sticky" style="width: 100px; font-weight: normal">outweight_station</th>
                <th class="sticky" style="width: 100px; font-weight: normal">outweight_cycles</th>
                <th class="sticky" style="width: 100px; font-weight: normal">outweight_result</th>
                <th class="sticky" style="width: 100px; font-weight: normal">outweight_value</th>
            </tr>
            </thead>
            <tbody>
            {% for row in whf30_data %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ row.LOT }}</td>
                <td>{{ row.barcode }}</td>
                <td style="background-color: #e0ffff;">{{ row.product }}</td>
                <td style="background-color: #e0ffff;">{{ row.PRODT_ORDER_NO }}</td>
                <td>{{ row.inweight_time }}</td>
                <td>{{ row.inweight_cycles }}</td>
                <td>{{ row.inweight_station }}</td>
                <td>{{ row.inweight_result }}</td>
                <td>{{ row.inweight_value }}</td>
                <td>{{ row.leaktest_cycles }}</td>
                <td>{{ row.leaktest_entry }}</td>
                <td>{{ row.leaktest_exit }}</td>
                <td>{{ row.leaktest_station }}</td>
                <td>{{ row.leaktest_value }}</td>
                <td>{{ row.leaktest_ptest }}</td>
                <td>{{ row.leaktest_duration }}</td>
                <td>{{ row.leaktest_result }}</td>
                <td>{{ row.outweight_time }}</td>
                <td>{{ row.outweight_station }}</td>
                <td>{{ row.outweight_cycles }}</td>
                <td>{{ row.outweight_result }}</td>
                <td>{{ row.outweight_value }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- 60 공정 -->
    <h4>TEST (WHF60)</h4>
    <div class="mb-4" style="overflow-y: auto; height: 300px; width: 100%;" id="process60">
        <table class="table table-sm table-hover" style="border-collapse: collapse;" width="100%" cellspacing="0">
            <thead class="table-light">
            <tr>
                <th class="sticky" style="width: 10px; font-weight: normal"></th>
                <th class="sticky" style="width: 100px; font-weight: normal">LOT</th>
                <th class="sticky" style="width: 100px; font-weight: normal">barcode</th>
                <th class="sticky" style="width: 100px; background-color: #e0ffff;">품목코드</th>
                <th class="sticky" style="width: 100px; background-color: #e0ffff;">제조오더번호</th>
                <th class="sticky" style="width: 100px; font-weight: normal">itest2_time</th>
                <th class="sticky" style="width: 100px; font-weight: normal">itest2_station</th>
                <th class="sticky" style="width: 100px; font-weight: normal">itest2_cycles</th>
                <th class="sticky" style="width: 100px; font-weight: normal">itest2_result</th>
                <th class="sticky" style="width: 100px; font-weight: normal">itest2_value</th>
                <th class="sticky" style="width: 100px; font-weight: normal">itest2_ptest</th>
                <th class="sticky" style="width: 100px; font-weight: normal">prodlabel_time</th>
                <th class="sticky" style="width: 100px; font-weight: normal">prodlabel_cycles</th>
            </tr>
            </thead>
            <tbody>
            {% for row in whf60_data %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ row.LOT }}</td>
                <td>{{ row.barcode }}</td>
                <td style="background-color: #e0ffff;">{{ row.product }}</td>
                <td style="background-color: #e0ffff;">{{ row.PRODT_ORDER_NO }}</td>
                <td>{{ row.itest2_time }}</td>
                <td>{{ row.itest2_station }}</td>
                <td>{{ row.itest2_cycles }}</td>
                <td>{{ row.itest2_result }}</td>
                <td>{{ row.itest2_value }}</td>
                <td>{{ row.itest2_ptest }}</td>
                <td>{{ row.prodlabel_time }}</td>
                <td>{{ row.prodlabel_cycles }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script>
    document.getElementById('openModalButton').addEventListener('click', function() {
        var uploadModal = new bootstrap.Modal(document.getElementById('uploadModal'));
        uploadModal.show();
    });

    function showLoadingModal() {
        var loadingModal = new bootstrap.Modal(document.getElementById('loadingModal'));
        loadingModal.show();
    }
</script>
{% endblock %}
